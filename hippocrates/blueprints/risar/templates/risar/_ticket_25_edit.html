
            <table class="table table-condensed">
                <tbody>
                <tr>
                    <th class="text-right col-md-4">Даты открытия и закрытия талона</th>
                    <td class="col-md-8">
                        <div class="row">
                            <div class="col-md-6"><wm-date ng-model="checkup.ticket_25.beg_date" ng-disabled="true"
                                min-date="checkup.beg_date"></wm-date></div>
                            <div class="col-md-6"><wm-date ng-model="checkup.ticket_25.end_date" ng-disabled="true"
                                min-date="checkup.beg_date"></wm-date></div>
                        </div>
                    </td>
                </tr>
                {% if 'medical_care' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('medical_care')"></th>
                    <td class="col-md-8">
                        <rb-select ref-book="rbRisarMedicalCare"
                                   ng-model="checkup.ticket_25.medical_care" limit-to="50"
                                   ng-required="ticket25Descriptor.getMandatory('medical_care')"
                                   ng-disabled="ticket25Descriptor.getReadOnly('medical_care')"
                        /></rb-select>
                    </td>
                </tr>
                {% endif %}
                {% if 'visit_place' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('visit_place')"></th>
                    <td class="col-md-8">
                        <rb-select ref-book="rbRisarVisitPlace"
                                   ng-model="checkup.ticket_25.visit_place" limit-to="50"
                                   ng-required="ticket25Descriptor.getMandatory('visit_place')"
                                   ng-disabled="ticket25Descriptor.getReadOnly('visit_place')"
                        /></rb-select>
                    </td>
                </tr>
                {% endif %}
                {% if 'visit_reason' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('visit_reason')"></th>
                    <td class="col-md-8">
                        <div refbook-radio ref-book="rbRisarTreatmentReason" ng-model="checkup.ticket_25.visit_reason"
                        ng-required="ticket25Descriptor.getMandatory('visit_reason')"
                        ng-disabled="ticket25Descriptor.getReadOnly('visit_reason')"
                        >[[ item.name ]]</div>
                    </td>
                </tr>
                {% endif %}
                {% if 'visit_type' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('visit_type')"></th>
                    <td class="col-md-8">
                        <ui-select ng-model="checkup.ticket_25.visit_type" theme="select2" ng-disabled="isDisabledVisitType() || ticket25Descriptor.getReadOnly('visit_type')"
                            ng-required="ticket25Descriptor.getMandatory('visit_type')">
                            <ui-select-choices repeat="item in checkup.ticket_25.visit_reason.types | filter: $select.search track by item._id">
                                <div style="text-align: justify" ng-bind-html="item.name | highlight: $select.search"></div>
                            </ui-select-choices>
                            <ui-select-match>[[ $select.selected.name ]]</ui-select-match>
                        </ui-select>
                    </td>
                </tr>
                {% endif %}
                {% if 'finished_treatment' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('finished_treatment')"></th>
                    <td class="col-md-8">
                        <div refbook-radio ref-book="rbRisarFinishedTreatment" ng-model="checkup.ticket_25.finished_treatment"
                        ng-required="ticket25Descriptor.getMandatory('finished_treatment')"
                        ng-disabled="ticket25Descriptor.getReadOnly('finished_treatment')"
                        >[[ item.name ]]</div>
                    </td>
                </tr>
                {% endif %}
                {% if 'initial_treatment' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('initial_treatment')"></th>
                    <td class="col-md-8">
                        <div refbook-radio ref-book="rbRisarInitialTreatment" ng-model="checkup.ticket_25.initial_treatment"
                        ng-required="ticket25Descriptor.getMandatory('initial_treatment')"
                        ng-disabled="ticket25Descriptor.getReadOnly('initial_treatment')">[[ item.name ]]</div>
                    </td>
                </tr>
                {% endif %}
                {% if 'treatment_result' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('treatment_result')"></th>
                    <td class="col-md-8">
                        <rb-select ref-book="rbResult" ng-model="checkup.ticket_25.treatment_result" limit-to="50"
                        ng-required="ticket25Descriptor.getMandatory('treatment_result')"
                        ng-disabled="ticket25Descriptor.getReadOnly('treatment_result')"></rb-select>
                    </td>
                </tr>
                {% endif %}
                {% if 'payment' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('payment')"></th>
                    <td class="col-md-8">
                        <rb-select ref-book="rbFinance" ng-model="checkup.ticket_25.payment" limit-to="50"
                        ng-required="ticket25Descriptor.getMandatory('payment')"
                        ng-disabled="ticket25Descriptor.getReadOnly('payment')"></rb-select>
                    </td>
                </tr>
                {% endif %}
                {% if 'urgent' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('urgent')"></th>
                    <td class="col-md-8">
                        <input style="transform: scale(1.3)" !important; type="checkbox" ng-model="checkup.ticket_25.urgent"
                        ng-required="ticket25Descriptor.getMandatory('urgent')"
                        ng-disabled="ticket25Descriptor.getReadOnly('urgent')">
                    </td>
                </tr>
                {% endif %}
                {% if 'prof_med_help' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('prof_med_help')"></th>
                    <td class="col-md-8">
                        <rb-select ref-book="rbProfMedHelp" ng-model="checkup.ticket_25.prof_med_help" limit-to="50"
                        ng-required="ticket25Descriptor.getMandatory('prof_med_help')"
                        ng-disabled="ticket25Descriptor.getReadOnly('prof_med_help')"></rb-select>
                    </td>
                </tr>
                {% endif %}
                {% if 'condit_med_help' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('condit_med_help')"></th>
                    <td class="col-md-8">
                        <rb-select ref-book="rbConditionMedHelp" ng-model="checkup.ticket_25.condit_med_help" limit-to="50"
                        ng-required="ticket25Descriptor.getMandatory('condit_med_help')"
                        ng-disabled="ticket25Descriptor.getReadOnly('condit_med_help')"></rb-select>
                    </td>
                </tr>
                {% endif %}
                {% if 'ache_result' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('ache_result')"></th>
                    <td class="col-md-8">
                        <div>
                            <rb-select ref-book="rbAcheResult" ng-model="checkup.ticket_25.ache_result"
                                        ng-required="true"
                                        ng-required="ticket25Descriptor.getMandatory('ache_result')"
                                        ng-disabled="ticket25Descriptor.getReadOnly('ache_result')"
                                        limit-to="50"></rb-select>
                        </div>
                    </td>
                </tr>
                {% endif %}
                {% if 'services' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('services')"></th>
                    <td></td>
                </tr>
                <tr>
                    <td colspan="2">
                        <table class="table table-condensed" inplace-table ng-model="checkup.ticket_25.services"
                               style="table-layout: fixed;">
                            <thead>
                            <tr>
                                <th width="45%">Название</th>
                                <th width="10%">Количество</th>
                                <th width="35%">Врач</th>
                                <th width="10%">&nbsp;</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="$row in $table.$model">
                                <td class="col-md-4">
                                    <span ng-if="!$table.$edited($index)">[[ $row.service.code ]] - [[ $row.service.name ]]</span>
                                    <span ng-if="$table.$edited($index)">
                                        {% if specifics_mng.uses_regional_services() %}
                                        <ui-select ext-select-ref-book-search="rbService_regional" ng-model="$table.$tmp.service"
                                            theme="select2" spec-search-params="get_spec_params()" ></ui-select>
                                        {% else %}
                                        <ui-select ext-select-ref-book-search="SST365" ng-model="$table.$tmp.service"
                                            theme="select2" spec-search-params="get_spec_params()" ></ui-select>
                                        {% endif %}
                                    </span>
                                </td>

                                <td class="col-md-2">
                                    <span ng-if="!$table.$edited($index)" ng-bind="$row.amount"></span>
                                    <span ng-if="$table.$edited($index)">
                                        <input valid-number maxlength="3" class="form-control" ng-model="$table.$tmp.amount" /></span>
                                </td>

                                <td class="col-md-4">
                                    <span ng-if="!$table.$edited($index)" ng-bind="$row.person.full_name"></span>
                                    <span ng-if="$table.$edited($index)"><wm-person-select ng-model="$table.$tmp.person" /></span>
                                </td>

                                <td class="col-md-2"><inplace-table-buttons class="pull-right" /></td>
                            </tr>
                            </tbody>
                            <tbody>
                            <tr>
                                <td colspan="4" class="text-right">
                                    <button class="btn btn-primary" ng-disabled="$table.$edited()" ng-click="$table.$add(get_default_values)">
                                        <i class="fa fa-plus"></i> Добавить
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                {% endif %}
                {% if 'operations' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('operations')"></th>
                    <td></td>
                </tr>
                <tr>
                    <td colspan="2">
                        <table class="table table-condensed" inplace-table ng-model="checkup.ticket_25.operations"
                               style="table-layout: fixed;">
                            <thead>
                            <tr>
                                <th width="35%">Название</th>
                                <th width="15%">Анестезия</th>
                                <th width="15%">Аппаратура</th>
                                <th width="25%">Врач</th>
                                <th width="10%">&nbsp;</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="$row in $table.$model">
                                <td class="col-md-4">
                                    <span ng-if="!$table.$edited($index)">[[ $row.service.code ]] - [[ $row.service.name ]]</span>
                                    <span ng-if="$table.$edited($index)">
                                        {% if specifics_mng.uses_regional_services() %}
                                        <ui-select ext-select-ref-book-search="rbService_regional" ng-model="$table.$tmp.service"
                                            theme="select2"></ui-select>
                                        {% else %}
                                        <ui-select ext-select-ref-book-search="SST365" ng-model="$table.$tmp.service"
                                            theme="select2"></ui-select>
                                        {% endif %}
                                    </span>
                                </td>

                                <td class="col-md-2">
                                    <span ng-if="!$table.$edited($index)" ng-bind="$row.anesthetization.name"></span>
                                    <span ng-if="$table.$edited($index)"><rb-select ng-model="$table.$tmp.anesthetization"
                                                                                    ref-book="rbRisarOperationAnesthetization"
                                                                                    with-title="true"
                                                                                    limit-to="50"/></span>
                                </td>

                                <td class="col-md-2">
                                    <span ng-if="!$table.$edited($index)" ng-bind="$row.equipment.name"></span>
                                    <span ng-if="$table.$edited($index)"><rb-select ng-model="$table.$tmp.equipment"
                                                                                    ref-book="rbRisarOperationEquipment"
                                                                                    with-title="true"
                                                                                    limit-to="50"/></span>
                                </td>

                                <td class="col-md-2">
                                    <span ng-if="!$table.$edited($index)" ng-bind="$row.person.full_name"></span>
                                    <span ng-if="$table.$edited($index)"><wm-person-select ng-model="$table.$tmp.person" /></span>
                                </td>

                                <td class="col-md-2"><inplace-table-buttons class="pull-right"></inplace-table-buttons></td>
                            </tr>
                            </tbody>
                            <tbody>
                            <tr>
                                <td colspan="5" class="text-right">
                                    <button class="btn btn-primary" ng-disabled="$table.$edited()" ng-click="$table.$add(get_current_user)">
                                        <i class="fa fa-plus"></i> Добавить
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                {% endif %}
                {% if 'manipulations' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('manipulations')"></th>
                    <td></td>
                </tr>
                <tr>
                    <td colspan="2">
                        <table class="table table-condensed" inplace-table ng-model="checkup.ticket_25.manipulations"
                               style="table-layout: fixed;">
                            <thead>
                            <tr>
                                <th width="45%">Название</th>
                                <th width="10%">Количество</th>
                                <th width="35%">Врач</th>
                                <th width="10%">&nbsp;</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="$row in $table.$model">
                                <td class="col-md-4">
                                    <span ng-if="!$table.$edited($index)">[[ $row.service.code ]] - [[ $row.service.name ]]</span>
                                    <span ng-if="$table.$edited($index)">
                                        {% if specifics_mng.uses_regional_services() %}
                                        <ui-select ext-select-ref-book-search="rbService_regional" ng-model="$table.$tmp.service"
                                            theme="select2"></ui-select>
                                        {% else %}
                                        <ui-select ext-select-ref-book-search="SST365" ng-model="$table.$tmp.service"
                                            theme="select2"></ui-select>
                                        {% endif %}
                                    </span>
                                </td>

                                <td class="col-md-2">
                                    <span ng-if="!$table.$edited($index)" ng-bind="$row.amount"></span>
                                    <span ng-if="$table.$edited($index)">
                                        <input valid-number maxlength="3" class="form-control" ng-model="$table.$tmp.amount" /></span>
                                </td>

                                <td class="col-md-4">
                                    <span ng-if="!$table.$edited($index)" ng-bind="$row.person.full_name"></span>
                                    <span ng-if="$table.$edited($index)"><wm-person-select ng-model="$table.$tmp.person" /></span>
                                </td>

                                <td class="col-md-2"><inplace-table-buttons class="pull-right" /></td>
                            </tr>
                            </tbody>
                            <tbody>
                            <tr>
                                <td colspan="4" class="text-right">
                                    <button class="btn btn-primary" ng-disabled="$table.$edited()" ng-click="$table.$add(get_current_user)">
                                        <i class="fa fa-plus"></i> Добавить
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                {% endif %}
                {% if 'temp_disability' in ticket_25_descriptor %}
                <tr>
                    <th class="text-right col-md-4" ng-bind-html="ticket25Descriptor.getLabel('temp_disability')"></th>
                    <td></td>
                </tr>
                <tr>
                    <td colspan="2">
                        <table class="table table-condensed" inplace-table ng-model="checkup.ticket_25.temp_disability"
                               style="table-layout: fixed;">
                            <thead>
                            <tr>
                                <th width="10%">Вид</th>
                                <th width="10%">Повод</th>
                                <th width="25%">Кому</th>
                                <th width="15%">Дата выдачи</th>
                                <th width="15%">Даты продления</th>
                                <th width="15%">Дата закрытия</th>
                                <th width="10%">&nbsp;</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="$row in $table.$model">
                                <td class="col-md-2">
                                    <span ng-if="!$table.$edited($index)" ng-bind="$row.type.name"></span>
                                    <span ng-if="$table.$edited($index)"><rb-select ng-model="$table.$tmp.type"
                                                                                    ref-book="rbRisarSickLeaveType"
                                                                                    with-title="true"
                                                                                    limit-to="50"/></span>
                                </td>

                                <td class="col-md-2">
                                    <span ng-if="!$table.$edited($index)" ng-bind="$row.reason.name"></span>
                                    <span ng-if="$table.$edited($index)"><rb-select ng-model="$table.$tmp.reason"
                                                                                    ref-book="rbRisarSickLeaveReason"
                                                                                    with-title="true"
                                                                                    limit-to="50"/></span>
                                </td>

                                <td class="col-md-3">
                                    <span ng-if="!$table.$edited($index)" ng-bind="$row.client"></span>
                                    <span ng-if="$table.$edited($index)"><input ng-disabled="$table.$tmp.reason.code != '2'" class="form-control" ng-model="$table.$tmp.client" /></span>
                                </td>

                                <td class="col-md-1">
                                    <span ng-if="!$table.$edited($index)" ng-bind="$row.beg_date | asDate"></span>
                                    <span ng-if="$table.$edited($index)"><wm-date ng-model="$table.$tmp.beg_date" min-date="checkup.beg_date"/></span>
                                </td>

                                <td class="col-md-1">
                                    <span ng-if="!$table.$edited($index)" ng-bind="$row.prolong_dates | applyFilter:'asDate' | join:', '"></span>
                                    <span ng-if="$table.$edited($index)"><wm-date ng-disabled="true" ng-model="$table.$tmp.prolong_dates" /></span>
                                </td>

                                <td class="col-md-1">
                                    <span ng-if="!$table.$edited($index)" ng-bind="$row.end_date | asDate"></span>
                                    <span ng-if="$table.$edited($index)"><wm-date ng-model="$table.$tmp.end_date" min-date="checkup.beg_date"/></span>
                                </td>

                                <td class="col-md-2"><inplace-table-buttons class="pull-right"></inplace-table-buttons></td>
                            </tr>
                            </tbody>
                            <tbody>
                            <tr>
                                <td colspan="7" class="text-right">
                                    <button class="btn btn-primary" ng-disabled="$table.$edited()" ng-click="$table.$add()">
                                        <i class="fa fa-plus"></i> Добавить
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                {% endif %}
                </tbody>
            </table>