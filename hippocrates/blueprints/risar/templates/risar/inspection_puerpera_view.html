{% extends 'risar/base/base.html' %}
{% import 'risar/_macros.html' as rimacros with context %}
{% import 'risar/_inspection_macros.html' as imacros with context %}

{% block title %}> Осмотры родильницы{% endblock %}

{% block main %}
<div ng-controller="InspectionPuerperaViewCtrl" ng-cloak>
    <section class="content-header" ng-controller="RisarHeaderCtrl">
        {{ rimacros.page_title_ext_n('Осмотры родильницы', 'inspection_puepera') }}
        {{ rimacros.navigation('[[ header.event.id ]]') }}
    </section>
    <section class="content">
        <div class="box box-primary">
        <div class="box-body">
        <table class="table">
            <thead>
                <tr>
                    <th width="10%" nowrap>Данные осмотра </th>
                    <th width="10%" nowrap ng-repeat="checkup in checkups">
                        <a ng-href="{{ url_for('.html_inspection_read') }}?event_id=[[ header.event.id ]]&checkup_id=[[ checkup.id ]]">[[ checkup.beg_date | asDate ]]</a>
                        <div class="btn-group">
                            <button type="button" class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown">
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" role="menu">
                                <li ng-class="{disabled: !ps_fi.is_available()}"><a href="#" ng-click="open_print_window(ps_fi, checkup.id)" >Печать</a></li>
                                <li ng-class="{disabled: !canEditCheckup($index)}">
                                    <a href="{{ url_for('.html_inspection_puerpera_edit') }}?event_id=[[ header.event.id ]]&checkup_id=[[ checkup.id ]]"
                                        ng-if="canEditCheckup($index)">Изменить</a>
                                    <a href="javascript:void(0)" ng-if="!canEditCheckup($index)">Изменить</a>
                                </li>
                            </ul>
                        </div>
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>Общее состояние</th>
                    <td ng-repeat="checkup in checkups"> [[ checkup.state.name ]]</td>
                    <td></td>
                </tr>
                <tr>
                    <th>АД правая рука</th>
                    <td ng-repeat="checkup in checkups"> [[ checkup.ad_right_high ]]/[[ checkup.ad_right_low ]]</td>
                    <td></td>
                </tr>
                <tr>
                    <th>АД левая рука</th>
                    <td ng-repeat="checkup in checkups"> [[ checkup.ad_left_high ]]/[[ checkup.ad_left_low ]]</td>
                    <td></td>
                </tr>
                <tr>
                    <th>Жалобы</th>
                    <td ng-repeat="checkup in checkups"><p ng-repeat="item in checkup.complaints">[[ item | format:'{name}' ]]</p></td>
                    <td></td>
                </tr>
                <tr>
                    <th>Состояние вен</th>
                    <td ng-repeat="checkup in checkups"> [[ checkup.vein.name ]]</td>
                    <td></td>
                </tr>
                <tr>
                    <th>Молочные железы</th>
                    <td ng-repeat="checkup in checkups"><p ng-repeat="item in checkup.breast">[[ item | format:'{name}' ]]</p></td>
                    <td></td>
                </tr>
                <tr>
                    <th>Соски</th>
                    <td ng-repeat="checkup in checkups"><p ng-repeat="item in checkup.nipples">[[ item | format:'{name}' ]]</p></td>
                    <td></td>
                </tr>
                <tr>
                    <th>Состояние матки</th>
                    <td ng-repeat="checkup in checkups"> [[ checkup.uterus.name ]]</td>
                    <td></td>
                </tr>
                <tr>
                    <th>Состояние послеоперационного рубца</th>
                    <td ng-repeat="checkup in checkups"> [[ checkup.scar.name ]]</td>
                    <td></td>
                </tr>
                <tr>
                    <th>Выделения</th>
                    <td ng-repeat="checkup in checkups"><p ng-repeat="item in checkup.secretion">[[ item | format:'{name}' ]]</p></td>
                    <td></td>
                </tr>
                <tr>
                    <th>Диагнозы</th>
                    <td ng-repeat="checkup in checkups">
                        <!--| collapse_diagnoses:'main'-->
                        <p ng-repeat="diag in checkup.diagnoses">
                            <span class="bottom_dotted" tooltip="[[ diag.diagnostic.mkb.name ]]">
                                [[ diag.diagnostic.mkb.code ]]
                            </span>
                        </p>
                    </td>
                    <td></td>
                </tr>
            </tbody>
        </table>
        </div>
        </div>
    </section>
</div>
{% endblock %}

{% block modules_js %}
    {{ super() }}
    <script src="{{ url_for('.static', filename='js/chart_puerpera.js', v=app_version) }}"></script>
{% endblock %}