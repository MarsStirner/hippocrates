<ng-form name="_client_attach_form" toc-element="Прикрепления клиента"  ng-controller="ClientAmbCardCtrl">
    <div class="box box-primary" ng-init="reloadAmbCard(client_id)">
        <div class="box-header with-border">
            <h3 class="box-title">Амбулаторная карта <span ng-if="amb_card.generated_id">[[amb_card.generated_id]]<span>&nbsp;от [[amb_card.create_datetime|asDate]]</span></span></h3>
        </div>
        <div class="box-body">
            <table class="table table-condensed">
                <thead>
                <tr>
                    <th>Прикреплен к врачу</th>
                    <th>Дата начала прикрепления</th>
                    <th>Дата завершения прикрепления</th>
                    <th>&nbsp;</th>
                    <th>&nbsp;</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="client_attach in client_attaches">
                    <td>[[ client_attach.person.short_name ]]</td>
                    <td>[[ client_attach.begDate | asDate ]]</td>
                    <td>[[ client_attach.endDate | asDate ]]</td>
                    <td>&nbsp;</td>
                    <td>
                        <button class="btn btn-primary" ng-click="editClientAttach(client, client_attach)"><i class="fa fa-edit"></i></button>
                        <button class="btn btn-danger" ng-click="removeClientAttach(client, client_attach, $index)"><i class="fa fa-trash"></i></button>
                    </td>
                </tr>
                </tbody>
            </table>
            <div class="panel">
                <button type="button" class="btn btn-lg btn-link btn-block"
                        ng-click="addClientAttach(client)"><i class="ion ion-plus-round fa-fw"></i>Добавить новое прикрепление к врачу</button>
            </div>
        </div>
    </div>
</ng-form>