<div class="marginal">
<ng-form name="_socStatuses" toc-element="Соц. статус">
    <legend>Социальные статусы</legend>
    <ng-form name="_invalidity" toc-element="Инвалидность">
        <h4>Инвалидность</h4>
        <div ng-repeat="socstat in client.invalidities | flt_not_deleted">
            <ng-form name="socStatInvalidityForm">
                <div class="row">
                    <div class="col-md-11">
                        <wm-soc-status ss-class="2" id-postfix="i[[$index]]"
                            model-type="socstat.ss_type"
                            model-beg-date="socstat.beg_date"
                            model-end-date="socstat.end_date"
                            model-document="socstat.self_document"
                            model-soc-status="socstat"
                            edit-mode="socstat.id ? edit.activated : true">
                        </wm-soc-status>
                    </div>
                    <div class="col-md-1">
                        <div class="row" ng-show="socstat.id">
                            <button type="button" class="btn btn-primary marginal" title="Редактировать"
                                    ng-click="edit.activated=true"><span class="glyphicon glyphicon-pencil"></span></button>
                        </div>
                        <div class="row">
                            <button type="button" class="btn btn-danger marginal" title="Удалить"
                                    ng-click="clientServices.delete_invalidity(client, socstat)"><span class="glyphicon glyphicon-trash"></span></button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-11">
                        <h4 class="text-muted">Документ</h4>
                        <wm-document id-postfix="c[[$index]]"
                            group-code="7"
                            model-type="socstat.self_document.doc_type"
                            model-serial="socstat.self_document.serial"
                            serial-validator="socstat.self_document.doc_type.validators.serial"
                            model-number="socstat.self_document.number"
                            number-validator="socstat.self_document.doc_type.validators.number"
                            model-beg-date="socstat.self_document.beg_date"
                            model-end-date="socstat.self_document.end_date"
                            model-origin="socstat.self_document.origin"
                            model-document="socstat.self_document"
                            edit-mode="socstat.self_document.id ? edit.activated : true">
                        </wm-document>
                    </div>
                </div>
            </ng-form>
            <hr class="no-top-margin">
        </div>
        <div>
            <button type="button" class="btn btn-primary"
                    ng-click="clientServices.add_new_invalidity(client)">Добавить инвалидность</button>
        </div>
    </ng-form>

    <hr>

    <ng-form name="_works" toc-element="Занятость">
        <h4>Занятость</h4>
        <div ng-repeat="socstat in client.works | flt_not_deleted">
            <ng-form name="socStatWorkForm">
                <div class="row">
                    <div class="col-md-11">
                        <wm-soc-status ss-class="3" id-postfix="w[[$index]]"
                            model-type="socstat.ss_type"
                            model-beg-date="socstat.beg_date"
                            model-end-date="socstat.end_date"
                            model-soc-status="socstat"
                            edit-mode="socstat.id ? edit.activated : true">
                        </wm-soc-status>
                    </div>
                    <div class="col-md-1">
                        <div class="row" ng-show="socstat.id">
                            <button type="button" class="btn btn-primary marginal" title="Редактировать"
                                    ng-click="edit.activated=true"><span class="glyphicon glyphicon-pencil"></span></button>
                        </div>
                        <div class="row">
                            <button type="button" class="btn btn-danger marginal" title="Удалить"
                                    ng-click="clientServices.delete_work(client, socstat)"><span class="glyphicon glyphicon-trash"></span></button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-11">
                        <h4 class="text-muted">Документ</h4>
                        <wm-document id-postfix="c[[$index]]"
                            group-code="4"
                            model-type="socstat.self_document.doc_type"
                            model-serial="socstat.self_document.serial"
                            serial-validator="socstat.self_document.doc_type.validators.serial"
                            model-number="socstat.self_document.number"
                            number-validator="socstat.self_document.doc_type.validators.number"
                            model-beg-date="socstat.self_document.beg_date"
                            model-end-date="socstat.self_document.end_date"
                            model-origin="socstat.self_document.origin"
                            model-document="socstat.self_document"
                            edit-mode="socstat.self_document.id ? edit.activated : true">
                        </wm-document>
                    </div>
                </div>
            </ng-form>
            <hr class="no-top-margin">
        </div>
        <div>
            <button type="button" class="btn btn-primary"
                    ng-click="clientServices.add_new_work(client)">Добавить занятость</button>
        </div>
    </ng-form>

    <hr>

    <ng-form name="_nationalities" toc-element="Гражданство">
        <h4>Гражданство</h4>
        <div ng-repeat="socstat in client.nationalities | flt_not_deleted">
            <ng-form name="socStatNationalityForm">
                <div class="row">
                    <div class="col-md-11">
                        <wm-soc-status ss-class="4" id-postfix="n[[$index]]"
                            model-type="socstat.ss_type"
                            model-beg-date="socstat.beg_date"
                            model-end-date="socstat.end_date"
                            model-soc-status="socstat"
                            edit-mode="socstat.id ? edit.activated : true">
                        </wm-soc-status>
                    </div>
                    <div class="col-md-1">
                        <div class="row" ng-show="socstat.id">
                            <button type="button" class="btn btn-primary marginal" title="Редактировать"
                                    ng-click="edit.activated=true"><span class="glyphicon glyphicon-pencil"></span></button>
                        </div>
                        <div class="row">
                            <button type="button" class="btn btn-danger marginal" title="Удалить"
                                    ng-click="clientServices.delete_nationality(client, socstat)"><span class="glyphicon glyphicon-trash"></span></button>
                        </div>
                    </div>
                </div>
            </ng-form>
        </div>
        <div>
            <button type="button" class="btn btn-primary"
                    ng-click="clientServices.add_new_nationality(client)">Добавить гражданство</button>
        </div>
    </ng-form>
</ng-form>
</div>