<table class="table table-condensed" ng-if="clientDataItems['bloodHistory']" ng-hide="editing">
    <caption>Группа крови и резус-фактор</caption>
    <thead>
    <tr>
        <th>Группа крови</th>
        <th>Дата установления</th>
        <th>Врач</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="blood in clientDataItems['bloodHistory']">
        <td>[[blood.bloodGroup_name]]</td>
        <td>[[blood.bloodDate]]</td>
        <td>[[blood.person_name]]</td>
    </tr>
    </tbody>
</table>

<form class="form-horizontal" role="form" ng-show="editing">
    <table class="table table-condensed">
        <caption>Группа крови и резус-фактор</caption>
        <thead>
        <tr>
            <th>Группа крови</th>
            <th>Дата установления</th>
            <th>Врач</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="blood in clientDataItems['bloodHistory']">
            <td class="col-md-4" ng-if="!blood.id">{{ form.blood_group(class="form-control", autocomplete="off", ng_model="blood.bloodGroup_code") }}</td><td ng-if="blood.id">[[blood.bloodGroup_name]]</td>
            <td class="col-md-3" ng-if="!blood.id">{{ form.blood_date(class="form-control", datepicker_popup="dd.MM.yyyy", autocomplete="off", ng_model="blood.bloodDate") }}</td><td ng-if="blood.id">[[blood.bloodDate]]</td>
            <td class="col-md-5" ng-if="!blood.id">{{ form.blood_person(class="form-control", autocomplete="off", ng_model="blood.person_id") }}</td><td ng-if="blood.id">[[blood.person_name]]</td>
        </tr>
        </tbody>
    </table>
</form>
<div class="col-sm-offset-10 col-md-2" ng-show="editing">
    <button ng-click="add_blood()" class="btn btn-primary btn-sm"><span class="glyphicon glyphicon-plus"
                                                                        title="Добавить новую запись"></span> Добавить</button>
</div>
{#<div class="col-sm-offset-10 col-md-2" ng-show="editing">#}
{#    <button ng-click="" class="btn btn-primary btn-sm"><span class="glyphicon glyphicon-plus"#}
{#                                                             title="Добавить новую запись"></span> Добавить</button>#}
{#</div>#}

<table class="table table-condensed" ng-if="clientDataItems['allergies']" ng-hide="editing">
    <caption>Аллергия</caption>
    <thead>
    <tr>
        <th>Наименование вещества</th>
        <th>Степень</th>
        <th>Дата установления</th>
        <th>Примечание</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="allergy in clientDataItems['allergies']">
        <td>[[allergy.nameSubstance]]</td>
        <td>[[allergy.power]]</td>
        <td>[[allergy.createDate]]</td>
        <td>[[allergy.notes]]</td>
    </tr>
    </tbody>
</table>

<form class="form-horizontal" role="form" ng-show="editing">
    <table class="table table-condensed">
        <caption>Аллергия</caption>
        <thead>
        <tr>
            <th>Наименование вещества</th>
            <th>Степень</th>
            <th>Дата установления</th>
            <th>Примечание</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="allergy in clientDataItems['allergies']">
            <td class="col-md-4" ng-hide="allergy.deleted">{{ form.allergy_substance(class="form-control", autocomplete="off", ng_model="allergy.nameSubstance") }}</td>
            <td class="col-md-3" ng-hide="allergy.deleted">{{ form.allergy_power(class="form-control", autocomplete="off", ng_model="allergy.power") }}</td>
            <td class="col-md-2" ng-hide="allergy.deleted">{{ form.allergy_createDate(class="form-control", autocomplete="off", datepicker_popup="dd.MM.yyyy", ng_model="allergy.createDate") }}</td>
            <td class="col-md-3" ng-hide="allergy.deleted">{{ form.allergy_notes(class="form-control", autocomplete="off", ng_model="allergy.notes") }}</td>
            <td class="col-md-1" ng-hide="allergy.deleted"><a class="btn btn-sm btn-default"
                                                              href=""
                                                              title="Удалить текущую строку"
                                                              ng-click="delete_item(clientDataItems['allergies'], allergy)" ><span class="glyphicon glyphicon-trash"></span></a></td>
        </tr>
        </tbody>
    </table>
</form>
<div class="col-sm-offset-10 col-md-2" ng-show="editing">
    <button ng-click="add_allergy()" class="btn btn-primary btn-sm"><span class="glyphicon glyphicon-plus"
                                                                          title="Добавить новую запись"></span> Добавить</button>
</div>

<table class="table table-condensed" ng-if="clientDataItems['intolerances']" ng-hide="editing">
    <caption>Медикаметозная непереносимость</caption>
    <thead>
    <tr>
        <th>Наименование медикамента</th>
        <th>Степень</th>
        <th>Дата установления</th>
        <th>Примечание</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="intolerance in clientDataItems['intolerances']">
        <td>[[intolerance.nameMedicament]]</td>
        <td>[[intolerance.power]]</td>
        <td>[[intolerance.createDate]]</td>
        <td>[[intolerance.notes]]</td>
    </tr>
    </tbody>
</table>

<form class="form-horizontal" role="form" ng-show="editing">
    <table class="table table-condensed">
        <caption>Медикаметозная непереносимость</caption>
        <thead>
        <tr>
            <th>Наименование медикамента</th>
            <th>Степень</th>
            <th>Дата установления</th>
            <th>Примечание</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="intolerance in clientDataItems['intolerances']">
            <td class="col-md-4" ng-hide="intolerance.deleted">{{ form.intolerance_medicament(class="form-control", autocomplete="off", ng_model="intolerance.nameMedicament") }}</td>
            <td class="col-md-3" ng-hide="intolerance.deleted">{{ form.intolerance_power(class="form-control", autocomplete="off", ng_model="intolerance.power") }}</td>
            <td class="col-md-2" ng-hide="intolerance.deleted">{{ form.intolerance_createDate(class="form-control", autocomplete="off", datepicker_popup="dd.MM.yyyy", ng_model="intolerance.createDate") }}</td>
            <td class="col-md-3" ng-hide="intolerance.deleted">{{ form.intolerance_notes(class="form-control", autocomplete="off", ng_model="intolerance.notes") }}</td>
            <td class="col-md-1" ng-hide="intolerance.deleted"><a class="btn btn-sm btn-default" href=""
                                                              title="Удалить текущую строку"
                                                              ng-click="delete_item(clientDataItems['intolerances'], intolerance)" ><span class="glyphicon glyphicon-trash"></span></a></td>
        </tr>
        </tbody>
    </table>
</form>
<div class="col-sm-offset-10 col-md-2" ng-show="editing">
    <button ng-click="add_medicament()" class="btn btn-primary btn-sm"><span class="glyphicon glyphicon-plus"
                                                                             title="Добавить новую запись"></span> Добавить</button>
</div>

<div class="col-sm-offset-2 col-md-10" ng-show="editing">
    <button ng-click="editing=false; save_client_info()" class="btn btn-success">Сохранить</button>
</div>